---js
import { getCollection } from 'astro:content';
import BlogPostPreview from '../../components/BlogPostPreview.astro';

export async function getStaticProps() {
  const posts = await getCollection('blog');
  return {
    props: {
      posts,
    },
  };
}

const { posts } = Astro.props;
---

<html lang="en">
<head>
  <title>Blog</title>
</head>
<body>
  <h1>Blog</h1>
  <ul>
    {posts.map((post) => (
      <li>
        <BlogPostPreview
          title={post.data.title}
          slug={post.slug}
          excerpt={post.data.excerpt}
          date={post.data.date}
          imageSrc={post.data.image}
          imageAlt={post.data.alt}
        />
      </li>
    ))}
  </ul>
</body>
</html>